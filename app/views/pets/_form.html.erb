<div class="content-container">
  <h2 class="text-success text-center mt-3"><%= form_title %></h2>
  <%= simple_form_for @pet, html: { multipart: true } do |f| %>
    <%= f.error_notification %>
    
    <!-- Nom -->
    <div class="mb-3">
      <%= f.input :name, label: "Nom du Familier", input_html: { maxlength: 20, id: "pet_name" } %>
    </div>

    <!-- Catégorie -->
    <div class="mb-3">
      <%= f.input :category, label: "Catégorie", as: :select, collection: ["animal", "droïde", "bio-armure", "humanoïde"], include_blank: "Sélectionnez une catégorie", input_html: { id: "pet_category" } %>
    </div>

    <!-- Âge -->
    <div class="mb-3">
      <%= f.input :age, label: "Age du Familier", input_html: { id: "pet_age", min: 1 } %>
    </div>

    <!-- Race -->
    <div class="mb-3">
      <%= f.input :race, label: "Race", input_html: { maxlength: 12, id: "pet_race" } %>
    </div>

    <!-- Taille -->
    <div class="mb-3">
      <%= f.input :size, label: "Taille (en centimètres)", input_html: { id: "pet_size" } %>
    </div>

    <!-- Poids -->
    <div class="mb-3">
      <%= f.input :weight, label: "Poids (en kg)", input_html: { id: "pet_weight" } %>
    </div>

    <!-- Sensibilité à la Force -->
    <div class="mb-3">
      <%= f.input :force, label: "Sensibilité à la Force", as: :boolean, input_html: { id: "pet_force" } %>
    </div>

    <!-- Points de vie maximum -->
    <div class="mb-3">
      <%= f.label :hp_max, "Points de Vie Maximum", for: "pet_hp_max", class: "form-label" %>
      <div class="input-group custom-input-group" data-controller="increment">
        <%= button_tag "-", type: "button", class: "btn btn-outline-secondary", data: { action: "click->increment#decrement" } %>
        <%= f.number_field :hp_max, value: @pet.hp_max || 10, min: 1, class: "form-control text-center", id: "pet_hp_max", data: { "increment-target" => "input" } %>
        <%= button_tag "+", type: "button", class: "btn btn-outline-secondary", data: { action: "click->increment#increment" } %>
      </div>
    </div>

    <!-- Résistance Corporelle -->
    <div class="mb-3">
      <%= f.label :res_corp_mastery, "Résistance Corporelle", for: "pet_res_corp_mastery", class: "form-label" %>
      <div class="d-flex align-items-center">
        <%= render "shared/skill_input", f: f, skill_name: "Résistance Corporelle", skill_field: :res_corp_mastery, bonus_field: :res_corp_bonus, suffix: "D +" %>
      </div>
    </div>

    <!-- Vitesse -->
    <div class="mb-3">
      <%= f.label :speed_mastery, "Vitesse", for: "pet_speed_mastery", class: "form-label" %>
      <div class="d-flex align-items-center">
        <%= render "shared/skill_input", f: f, skill_name: "Vitesse", skill_field: :speed_mastery, bonus_field: :speed_bonus, suffix: "D +" %>
      </div>
    </div>

    <!-- Précision -->
    <div class="mb-3">
      <%= f.label :accuracy_mastery, "Précision", for: "pet_accuracy_mastery", class: "form-label" %>
      <div class="d-flex align-items-center">
        <%= render "shared/skill_input", f: f, skill_name: "Précision", skill_field: :accuracy_mastery, bonus_field: :accuracy_bonus, suffix: "D +" %>
      </div>
    </div>

    <!-- Esquive -->
    <div class="mb-3">
      <%= f.label :dodge_mastery, "Esquive", for: "pet_dodge_mastery", class: "form-label" %>
      <div class="d-flex align-items-center">
        <%= render "shared/skill_input", f: f, skill_name: "Esquive", skill_field: :dodge_mastery, bonus_field: :dodge_bonus, suffix: "D +" %>
      </div>
    </div>

    <!-- Dégâts et Armes -->
    <div class="mb-3">
      <%= f.label :weapon_1, "Nom de l'Arme 1", for: "pet_weapon_1", class: "form-label" %>
      <%= f.text_field :weapon_1, class: "form-control", id: "pet_weapon_1" %>
      <%= f.label :damage_1, "Dégâts 1 (DD)", for: "pet_damage_1", class: "form-label mt-2" %>
      <div class="d-flex align-items-center">
        <%= render "shared/damage_input", f: f, damage_field: :damage_1, bonus_field: :damage_1_bonus, suffix: "DD" %>
      </div>
    </div>
    <div class="mb-3">
      <%= f.label :weapon_2, "Nom de l'Arme 2", for: "pet_weapon_2", class: "form-label" %>
      <%= f.text_field :weapon_2, class: "form-control", id: "pet_weapon_2" %>
      <%= f.label :damage_2, "Dégâts 2 (DD)", for: "pet_damage_2", class: "form-label mt-2" %>
      <div class="d-flex align-items-center">
        <%= render "shared/damage_input", f: f, damage_field: :damage_2, bonus_field: :damage_2_bonus, suffix: "DD" %>
      </div>
    </div>

    <!-- Illustration -->
    <div class="mb-3">
      <%= f.input :image, label: "Illustration", as: :file, input_html: { id: "pet_image" } %>
    </div>

    <!-- Description -->
    <div class="mb-3">
      <%= f.input :description, label: "Description", as: :text, input_html: { rows: 4, id: "pet_description" } %>
    </div>

    <!-- Bouton de soumission -->
    <div class="mt-3">
      <%= f.submit form_button_text, class: "btn btn-outline-success" %>
    </div>
  <% end %>
</div>